(this["webpackJsonpimage-transform"]=this["webpackJsonpimage-transform"]||[]).push([[0],{68:function(e,n,t){"use strict";t.r(n);var r=t(0),l=t.n(r),a=t(10),c=t.n(a),i=t(99),s=t(43),u=t(6),o=t(3),_=l.a.createContext(null),j=function(e){return function(n){return Object(o.jsx)(_.Consumer,{children:function(t){return Object(o.jsx)(e,Object(u.a)(Object(u.a)({},n),{},{store:t}))}})}},k=_,d=t(50);var m=function(){return Object(d.a)((function(){var e=arguments.length>1?arguments[1]:void 0;return{img:e.img,uniform:e.uniform}}))};var g=j((function(e){var n=Object(r.useRef)();return Object(r.useEffect)((function(){var t=new s.Canvas(n.current,{vertexString:e.shader.vertex,fragmentString:e.shader.fragment}),r=function(){var n=e.store.getState();t.loadTexture("u_img",n.img),t.setUniforms(n.uniform)},l=e.store.subscribe(r);r();var a=function(){return function(e,n){var t=window.innerWidth/480;e.style.width=Math.min(400*t,480)+"px",e.style.height=Math.min(300*t,360)+"px"}(n.current,e.store.getState().img)};return a(),window.addEventListener("resize",a),function(){window.removeEventListener("resize",a),l(),t.destroy()}}),[e.store,e.shader]),Object(o.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(o.jsx)("canvas",{ref:n})})})),x=t(49);var b=j((function(e){var n=Object(r.useState)(e.state),t=Object(x.a)(n,2),l=t[0],a=t[1];return e.store.dispatch(Object(u.a)({type:"UPDATE"},e.dispatch(l,e.store.getState()))),e.form(l,a)})),v=t(103),h=t(109),O=t(106),f=t(110),p=t(105),y=t(108),P=t(69),w=t(104),C={normal:[0,0,0,0,1,0,0,0,0],gaussianBlur:[.045,.122,.045,.122,.332,.122,.045,.122,.045],gaussianBlur2:[1,2,1,2,4,2,1,2,1],gaussianBlur3:[0,1,0,1,1,1,0,1,0],unsharpen:[-1,-1,-1,-1,9,-1,-1,-1,-1],sharpness:[0,-1,0,-1,5,-1,0,-1,0],sharpen:[-1,-1,-1,-1,16,-1,-1,-1,-1],edgeDetect:[-.125,-.125,-.125,-.125,1,-.125,-.125,-.125,-.125],edgeDetect2:[-1,-1,-1,-1,8,-1,-1,-1,-1],edgeDetect3:[-5,0,0,0,0,0,0,0,5],edgeDetect4:[-1,-1,-1,0,0,0,1,1,1],edgeDetect5:[-1,-1,-1,2,2,2,-1,-1,-1],edgeDetect6:[-5,-5,-5,-5,39,-5,-5,-5,-5],sobelHorizontal:[1,2,1,0,0,0,-1,-2,-1],sobelVertical:[1,0,-1,2,0,-2,1,0,-1],previtHorizontal:[1,1,1,0,0,0,-1,-1,-1],previtVertical:[1,0,-1,1,0,-1,1,0,-1],boxBlur:[.111,.111,.111,.111,.111,.111,.111,.111,.111],triangleBlur:[.0625,.125,.0625,.125,.25,.125,.0625,.125,.0625],emboss:[-2,-1,0,-1,1,1,0,1,2]},N=[{url:"/gl-image-processing/sample/Chrysanthemum.jpg",name:"Chrysanthemum"},{url:"/gl-image-processing/sample/Desert.jpg",name:"Desert"},{url:"/gl-image-processing/sample/Hydrangeas.jpg",name:"Hydrangeas"},{url:"/gl-image-processing/sample/Jellyfish.jpg",name:"Jellyfish"},{url:"/gl-image-processing/sample/Koala.jpg",name:"Koala"},{url:"/gl-image-processing/sample/Lighthouse.jpg",name:"Lighthouse"},{url:"/gl-image-processing/sample/Penguins.jpg",name:"Penguins"},{url:"/gl-image-processing/sample/Tulips.jpg",name:"Tulips"}],I={kernel:"normal",bnw:!0,img:N[0].url,kernel_0:0,kernel_1:0,kernel_2:0,kernel_3:0,kernel_4:1,kernel_5:0,kernel_6:0,kernel_7:0,kernel_8:0,c_kernel_0:0,c_kernel_1:0,c_kernel_2:0,c_kernel_3:0,c_kernel_4:1,c_kernel_5:0,c_kernel_6:0,c_kernel_7:0,c_kernel_8:0},D=function(e,n){var t=isNaN(+e.kernel_0)?n.uniform["u_kernel[0]"]:+e.kernel_0,r=isNaN(+e.kernel_1)?n.uniform["u_kernel[1]"]:+e.kernel_1,l=isNaN(+e.kernel_2)?n.uniform["u_kernel[2]"]:+e.kernel_2,a=isNaN(+e.kernel_3)?n.uniform["u_kernel[3]"]:+e.kernel_3,c=isNaN(+e.kernel_4)?n.uniform["u_kernel[4]"]:+e.kernel_4,i=isNaN(+e.kernel_5)?n.uniform["u_kernel[7]"]:+e.kernel_5,s=isNaN(+e.kernel_6)?n.uniform["u_kernel[6]"]:+e.kernel_6,u=isNaN(+e.kernel_7)?n.uniform["u_kernel[7]"]:+e.kernel_7,o=isNaN(+e.kernel_8)?n.uniform["u_kernel[8]"]:+e.kernel_8;return{img:e.img,uniform:{u_doGray:e.bnw,"u_kernel[0]":t,"u_kernel[1]":r,"u_kernel[2]":l,"u_kernel[3]":a,"u_kernel[4]":c,"u_kernel[5]":i,"u_kernel[6]":s,"u_kernel[7]":u,"u_kernel[8]":o,u_kernelWeight:+function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t+r+l+a+c+i+s+u+o;return e<=0?1:e}()}}};function F(e){return{c_kernel_0:e.kernel_0,c_kernel_1:e.kernel_1,c_kernel_2:e.kernel_2,c_kernel_3:e.kernel_3,c_kernel_4:e.kernel_4,c_kernel_5:e.kernel_5,c_kernel_6:e.kernel_6,c_kernel_7:e.kernel_7,c_kernel_8:e.kernel_8}}var B=function(e,n){return Object(o.jsxs)(i.a,{container:!0,justifyContent:"center",alignItems:"center",spacing:2,children:[Object(o.jsx)(i.a,{item:!0,xs:8,children:Object(o.jsxs)(v.a,{variant:"outlined",style:{width:"100%"},children:[Object(o.jsx)(h.a,{id:"demo-simple-select-outlined-label",children:"Pilih gambar"}),Object(o.jsx)(O.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:e.img,onChange:function(t){return n(Object(u.a)(Object(u.a)({},e),{},{img:t.target.value}))},label:"Pilih gambar",children:N.map((function(e,n){return Object(o.jsxs)(f.a,{value:e.url,children:[Object(o.jsx)("img",{src:e.url,alt:e.name,height:25})," ",e.name]},n)}))})]})}),Object(o.jsx)(i.a,{item:!0,xs:4,children:Object(o.jsx)(p.a,{control:Object(o.jsx)(y.a,{checked:e.bnw,onChange:function(t){return n(Object(u.a)(Object(u.a)({},e),{},{bnw:t.target.checked}))},inputProps:{"aria-label":"primary checkbox"}}),label:"Hitam putih"})}),Object(o.jsx)(i.a,{item:!0,xs:12,children:Object(o.jsxs)(v.a,{variant:"outlined",style:{width:"100%"},children:[Object(o.jsx)(h.a,{id:"demo-simple-select-outlined-label",children:"Pilih kernel mask"}),Object(o.jsxs)(O.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:e.kernel,onChange:function(t){if("custom"===t.target.value)return n(Object(u.a)(Object(u.a)({},e),{},{kernel:t.target.value,kernel_0:e.c_kernel_0,kernel_1:e.c_kernel_1,kernel_2:e.c_kernel_2,kernel_3:e.c_kernel_3,kernel_4:e.c_kernel_4,kernel_5:e.c_kernel_5,kernel_6:e.c_kernel_6,kernel_7:e.c_kernel_7,kernel_8:e.c_kernel_8}));var r=C[t.target.value];n(Object(u.a)(Object(u.a)({},e),{},{kernel:t.target.value,kernel_0:r[0],kernel_1:r[1],kernel_2:r[2],kernel_3:r[3],kernel_4:r[4],kernel_5:r[5],kernel_6:r[6],kernel_7:r[7],kernel_8:r[8]}))},label:"Pilih kernel mask",children:[Object(o.jsx)(f.a,{value:"custom",children:"Custom"},"custom"),Object.keys(C).map((function(e,n){return Object(o.jsx)(f.a,{value:e,children:e},n)}))]})]})}),Object(o.jsxs)(i.a,{container:!0,item:!0,justifyContent:"center",alignItems:"center",spacing:1,xs:12,children:[Object(o.jsx)(i.a,{item:!0,xs:12,children:Object(o.jsx)(P.a,{gutterBottom:!0,children:"Kernel"})}),Object(o.jsx)(i.a,{item:!0,xs:4,children:Object(o.jsxs)(v.a,{variant:"outlined",style:{width:"100%"},children:[Object(o.jsx)(h.a,{htmlFor:"kernel-0",children:"Index 0"}),Object(o.jsx)(w.a,{id:"kernel-0",type:"text",value:e.kernel_0,onChange:function(t){return n(Object(u.a)(Object(u.a)(Object(u.a)({},e),F(e)),{},{kernel:"custom",kernel_0:t.target.value,c_kernel_0:t.target.value}))}})]})}),Object(o.jsx)(i.a,{item:!0,xs:4,children:Object(o.jsxs)(v.a,{variant:"outlined",style:{width:"100%"},children:[Object(o.jsx)(h.a,{htmlFor:"kernel-1",children:"Index 1"}),Object(o.jsx)(w.a,{id:"kernel-1",type:"text",value:e.kernel_1,onChange:function(t){return n(Object(u.a)(Object(u.a)(Object(u.a)({},e),F(e)),{},{kernel:"custom",kernel_1:t.target.value,c_kernel_1:t.target.value}))}})]})}),Object(o.jsx)(i.a,{item:!0,xs:4,children:Object(o.jsxs)(v.a,{variant:"outlined",style:{width:"100%"},children:[Object(o.jsx)(h.a,{htmlFor:"kernel-2",children:"Index 2"}),Object(o.jsx)(w.a,{id:"kernel-2",type:"text",value:e.kernel_2,onChange:function(t){return n(Object(u.a)(Object(u.a)(Object(u.a)({},e),F(e)),{},{kernel:"custom",kernel_2:t.target.value,c_kernel_2:t.target.value}))}})]})}),Object(o.jsx)(i.a,{item:!0,xs:4,children:Object(o.jsxs)(v.a,{variant:"outlined",style:{width:"100%"},children:[Object(o.jsx)(h.a,{htmlFor:"kernel-3",children:"Index 3"}),Object(o.jsx)(w.a,{id:"kernel-3",type:"text",value:e.kernel_3,onChange:function(t){return n(Object(u.a)(Object(u.a)(Object(u.a)({},e),F(e)),{},{kernel:"custom",kernel_3:t.target.value,c_kernel_3:t.target.value}))}})]})}),Object(o.jsx)(i.a,{item:!0,xs:4,children:Object(o.jsxs)(v.a,{variant:"outlined",style:{width:"100%"},children:[Object(o.jsx)(h.a,{htmlFor:"kernel-4",children:"Index 4"}),Object(o.jsx)(w.a,{id:"kernel-4",type:"text",value:e.kernel_4,onChange:function(t){return n(Object(u.a)(Object(u.a)(Object(u.a)({},e),F(e)),{},{kernel:"custom",kernel_4:t.target.value,c_kernel_4:t.target.value}))}})]})}),Object(o.jsx)(i.a,{item:!0,xs:4,children:Object(o.jsxs)(v.a,{variant:"outlined",style:{width:"100%"},children:[Object(o.jsx)(h.a,{htmlFor:"kernel-5",children:"Index 5"}),Object(o.jsx)(w.a,{id:"kernel-5",type:"text",value:e.kernel_5,onChange:function(t){return n(Object(u.a)(Object(u.a)(Object(u.a)({},e),F(e)),{},{kernel:"custom",kernel_5:t.target.value,c_kernel_5:t.target.value}))}})]})}),Object(o.jsx)(i.a,{item:!0,xs:4,children:Object(o.jsxs)(v.a,{variant:"outlined",style:{width:"100%"},children:[Object(o.jsx)(h.a,{htmlFor:"kernel-6",children:"Index 6"}),Object(o.jsx)(w.a,{id:"kernel-6",type:"text",value:e.kernel_6,onChange:function(t){return n(Object(u.a)(Object(u.a)(Object(u.a)({},e),F(e)),{},{kernel:"custom",kernel_6:t.target.value,c_kernel_6:t.target.value}))}})]})}),Object(o.jsx)(i.a,{item:!0,xs:4,children:Object(o.jsxs)(v.a,{variant:"outlined",style:{width:"100%"},children:[Object(o.jsx)(h.a,{htmlFor:"kernel-7",children:"Index 7"}),Object(o.jsx)(w.a,{id:"kernel-7",type:"text",value:e.kernel_7,onChange:function(t){return n(Object(u.a)(Object(u.a)(Object(u.a)({},e),F(e)),{},{kernel:"custom",kernel_7:t.target.value,c_kernel_7:t.target.value}))}})]})}),Object(o.jsx)(i.a,{item:!0,xs:4,children:Object(o.jsxs)(v.a,{variant:"outlined",style:{width:"100%"},children:[Object(o.jsx)(h.a,{htmlFor:"kernel-8",children:"Index 8"}),Object(o.jsx)(w.a,{id:"kernel-8",type:"text",value:e.kernel_8,onChange:function(t){return n(Object(u.a)(Object(u.a)(Object(u.a)({},e),F(e)),{},{kernel:"custom",kernel_8:t.target.value,c_kernel_8:t.target.value}))}})]})})]})]})};var S=function(){return Object(o.jsxs)(i.a,{container:!0,justifyContent:"center",alignItems:"center",spacing:2,children:[Object(o.jsx)(i.a,{item:!0,children:Object(o.jsx)(g,{shader:{fragment:"\nprecision lowp float;\n\nuniform sampler2D u_img;\nuniform vec2 u_resolution;\nuniform float u_kernel[9];\nuniform float u_kernelWeight;\n\nuniform bool u_doGray;\n\nvarying vec2 v_texcoord;\n\nvec4 getPixel(sampler2D img, vec2 pixel) {\n  if(u_doGray) {\n    return vec4(vec3(dot(texture2D(img, pixel).rgb, vec3(1.0/3.0))), 1.0);\n  } else {\n    return texture2D(img, pixel);\n  }\n}\n\nvoid main() {\n  vec2 canvasPixel = vec2(1.0) / u_resolution;\n\n  vec4 convolution =\n    getPixel(u_img, v_texcoord + canvasPixel * vec2(-1, -1)) * u_kernel[0] +\n    getPixel(u_img, v_texcoord + canvasPixel * vec2( 0, -1)) * u_kernel[1] +\n    getPixel(u_img, v_texcoord + canvasPixel * vec2( 1, -1)) * u_kernel[2] +\n    getPixel(u_img, v_texcoord + canvasPixel * vec2(-1,  0)) * u_kernel[3] +\n    getPixel(u_img, v_texcoord + canvasPixel * vec2( 0,  0)) * u_kernel[4] +\n    getPixel(u_img, v_texcoord + canvasPixel * vec2( 1,  0)) * u_kernel[5] +\n    getPixel(u_img, v_texcoord + canvasPixel * vec2(-1,  1)) * u_kernel[6] +\n    getPixel(u_img, v_texcoord + canvasPixel * vec2( 0,  1)) * u_kernel[7] +\n    getPixel(u_img, v_texcoord + canvasPixel * vec2( 1,  1)) * u_kernel[8] ;\n\n  gl_FragColor = vec4((convolution / u_kernelWeight).rgb, 1);\n}\n",vertex:"\nattribute vec2 a_position;\nattribute vec2 a_texcoord;\nattribute vec2 a_normal;\nattribute vec2 a_color;\n\nvarying vec2 v_texcoord;\nvarying vec2 v_normal;\nvarying vec2 v_color;\n\nvoid main() {\n  gl_Position = vec4(a_position, 0.0, 1.0);\n\n  v_texcoord = a_texcoord;\n  v_normal = a_normal;\n  v_color = a_color;\n}\n"}})}),Object(o.jsx)(i.a,{item:!0,xs:10,sm:10,md:10,lg:6,xl:4,children:Object(o.jsx)(b,{form:B,state:I,dispatch:D})})]})},L=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,112)).then((function(n){var t=n.getCLS,r=n.getFID,l=n.getFCP,a=n.getLCP,c=n.getTTFB;t(e),r(e),l(e),a(e),c(e)}))};c.a.render(Object(o.jsx)(l.a.StrictMode,{children:Object(o.jsx)(k.Provider,{value:m(),children:Object(o.jsx)(S,{})})}),document.getElementById("root")),L()}},[[68,1,2]]]);
//# sourceMappingURL=main.ab733529.chunk.js.map